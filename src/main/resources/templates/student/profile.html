<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{layout/main :: html}">
<head>
    <title>Student Profile</title>
</head>
<body>
    <div th:fragment="content">
        <div class="row">
            <div class="col-12">
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <h1 class="h3 mb-0">
                        <i class="fas fa-user me-2 text-primary"></i>
                        Student Profile
                    </h1>
                    <a th:href="@{/students/profile/edit}" class="btn btn-primary">
                        <i class="fas fa-edit me-1"></i>Edit Profile
                    </a>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- Profile Information -->
            <div class="col-md-8 mb-4">
                <div class="card border-0 shadow-sm">
                    <div class="card-header bg-white border-0">
                        <h5 class="mb-0">
                            <i class="fas fa-info-circle me-2 text-primary"></i>
                            Personal Information
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="text-muted small mb-1">Full Name</label>
                                <p class="h6 mb-0" th:text="${student?.name} ?: 'Not provided'">John Doe</p>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="text-muted small mb-1">Email Address</label>
                                <p class="h6 mb-0" th:text="${student?.email} ?: 'Not provided'">john.doe@email.com</p>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="text-muted small mb-1">Student ID</label>
                                <p class="h6 mb-0" th:text="${student?.userId} ?: 'Not provided'">STU001</p>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="text-muted small mb-1">Role</label>
                                <span class="badge bg-success fs-6" th:text="${student?.role} ?: 'Student'">Student</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Profile Picture -->
            <div class="col-md-4 mb-4">
                <div class="card border-0 shadow-sm text-center">
                    <div class="card-body">
                        <div class="mb-3">
                            <img src="https://via.placeholder.com/150x150/6c757d/ffffff?text=Photo" 
                                 alt="Profile Picture" 
                                 class="rounded-circle" 
                                 style="width: 150px; height: 150px; object-fit: cover;">
                        </div>
                        <h5 th:text="${student?.name} ?: 'Student Name'">Student Name</h5>
                        <p class="text-muted mb-0" th:text="${student?.department} ?: 'Department'">Computer Science</p>
                        <small class="text-muted">Semester <span th:text="${student?.semester} ?: '1'">3</span></small>
                    </div>
                </div>
            </div>
        </div>

        <!-- Academic Information -->
        <div class="row">
            <div class="col-md-6 mb-4">
                <div class="card border-0 shadow-sm">
                    <div class="card-header bg-white border-0">
                        <h5 class="mb-0">
                            <i class="fas fa-graduation-cap me-2 text-success"></i>
                            Academic Details
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-12 mb-3">
                                <label class="text-muted small mb-1">Department</label>
                                <p class="h6 mb-0" th:text="${student?.department} ?: 'Not specified'">Computer Science</p>
                            </div>
                            <div class="col-12 mb-3">
                                <label class="text-muted small mb-1">Current Semester</label>
                                <p class="h6 mb-0">
                                    <span class="badge bg-info fs-6" th:text="'Semester ' + (${student?.semester} ?: '1')">Semester 3</span>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Interests -->
            <div class="col-md-6 mb-4">
                <div class="card border-0 shadow-sm">
                    <div class="card-header bg-white border-0">
                        <h5 class="mb-0">
                            <i class="fas fa-heart me-2 text-danger"></i>
                            Interests
                        </h5>
                    </div>
                    <div class="card-body">
                        <div th:if="${student?.interest != null and !student.interest.empty}">
                            <div class="d-flex flex-wrap gap-2">
                                <span th:each="interest : ${student.interest}" 
                                      class="badge bg-primary fs-6" 
                                      th:text="${interest}">Programming</span>
                            </div>
                        </div>
                        <div th:unless="${student?.interest != null and !student.interest.empty}">
                            <p class="text-muted mb-0">No interests specified</p>
                            <small class="text-muted">Add your interests to get personalized event recommendations</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Activity Summary -->
        <div class="row">
            <div class="col-12">
                <div class="card border-0 shadow-sm">
                    <div class="card-header bg-white border-0">
                        <h5 class="mb-0">
                            <i class="fas fa-chart-line me-2 text-warning"></i>
                            Activity Summary
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="row text-center">
                            <div class="col-md-3 col-sm-6 mb-3">
                                <div class="border-end border-light pe-3">
                                    <h4 class="text-primary mb-1">12</h4>
                                    <small class="text-muted">Events Attended</small>
                                </div>
                            </div>
                            <div class="col-md-3 col-sm-6 mb-3">
                                <div class="border-end border-light pe-3">
                                    <h4 class="text-success mb-1">5</h4>
                                    <small class="text-muted">Events Registered</small>
                                </div>
                            </div>
                            <div class="col-md-3 col-sm-6 mb-3">
                                <div class="border-end border-light pe-3">
                                    <h4 class="text-info mb-1">3</h4>
                                    <small class="text-muted">Clubs Joined</small>
                                </div>
                            </div>
                            <div class="col-md-3 col-sm-6 mb-3">
                                <h4 class="text-warning mb-1">85%</h4>
                                <small class="text-muted">Attendance Rate</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Back to Dashboard -->
        <div class="row mt-4">
            <div class="col-12">
                <a th:href="@{/students/dashboard}" class="btn btn-outline-secondary">
                    <i class="fas fa-arrow-left me-1"></i>Back to Dashboard
                </a>
            </div>
        </div>
    </div>
</body>
</html>